<div data-sly-use.carousel="com.adobe.cq.wcm.core.components.models.Carousel"
   data-sly-use.heroCarousel="com.shrss.core.models.HeroCarousel"
   data-sly-use.commonFields="com.shrss.core.models.CommonFields"
   data-sly-use.templates="core/wcm/components/commons/v1/templates.html"
   data-sly-use.controlsTemplate="controls.html"
   data-panelcontainer="${wcmmode.edit && 'carousel'}"
   id="${commonFields.id}"
   class="hrc-carousel ${commonFields.overrideClass}"
   role="group"
   aria-label="${carousel.accessibilityLabel}"
   aria-live="polite"
   aria-roledescription="carousel"
   data-component="carousel"
   data-auto-play="${carousel.autoplay == true ? 'true' : 'false'}"
   data-delay="${carousel.delay}"
   data-start-index="${heroCarousel.startIndex}"
   data-stop-on-hover="${carousel.autopauseDisabled == true ? 'true' : 'false'}"
   data-cmp-data-layer="${carousel.data.json}"
   data-placeholder-text="${wcmmode.edit && 'Please add Hero Carousel components here' @ i18n}">
   <div class="hrc-carousel__viewport">
      <div data-sly-set.items="${carousel.children || carousel.items}"
         data-sly-test="${items && items.size > 0}"
         class="hrc-carousel__container"
         aria-atomic="false"
         aria-live="${carousel.autoplay ? 'off' : 'polite'}">
         <div data-sly-repeat.item="${items}"
            data-sly-resource="${item.resource @ decorationTagName='div'}"
            id="${item.id}-tabpanel"
            class="hrc-carousel__slide"
            role="tabpanel"
            aria-labelledby="${item.id}-tab"
            aria-roledescription="slide"
            aria-label="${item.title}"
            aria-label="${(carousel.accessibilityAutoItemTitles && item.title) || 'Slide {0} of {1}' @ format=[itemList.count, carousel.items.size], i18n}"
            data-cmp-data-layer="${item.data.json}"
            data-cmp-hook-carousel="item"></div>
      </div>
   </div>
   <sly data-sly-call="${controlsTemplate.controls @ carousel=carousel}"></sly>
   <div data-sly-test="${heroCarousel.slideIndicator == 'on'}" class="hrc-carousel__dots"
      role="tablist"
      aria-label="${carousel.accessibilityTablist || 'Choose a slide to display' @ i18n}"
      data-cmp-hook-carousel="indicators">
      <button data-sly-repeat.item="${items}"
         id="${item.id}-tab"
         class="hrc-carousel__dot"
         type="button"
         role="tab"
         aria-controls="${item.id}-tabpanel"
         aria-label="${'Slide {0}' @ format=[itemList.count], i18n}"
         data-cmp-hook-carousel="indicator"></button>
   </div>
   <sly data-sly-resource="${resource.path @ resourceType='wcm/foundation/components/parsys/newpar', appendPath='/*', decorationTagName='div', cssClassName='new section aem-Grid-newComponent'}"
      data-sly-test="${(wcmmode.edit || wcmmode.preview) && items.size < 1}"></sly>
</div>